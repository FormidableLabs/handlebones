{"version":3,"file":"handlebones.js.map","sources":["handlebones.js"],"names":["root","factory","define","amd","_","Backbone","Handlebars","exports","Handlebones","require","jQuery","Zepto","ender","$","this","hasClassName","name","RegExp","test","className","addClassName","call","join","removeClassName","regexp","replace","triggerReady","view","_isReady","trigger","onReady","each","children","configureView","_renderCount","viewsIndexedByCid","cid","listenTo","ensureRendered","render","replaceHTML","html","string","hasDOMLib","isIE","fn","jquery","el","hasChildNodes","removeChild","childNodes","$el","empty","append","innerHTML","handleChangeFromEmptyToNotEmpty","emptyClassName","_emptyViewInstance","remove","handleChangeFromNotEmptyToEmpty","emptyView","addChild","appendTo","applyVisibilityFilter","modelFilter","collection","forEach","model","applyModelVisiblityFilter","selector","modelCidAttributeName","style","display","modelShouldBeVisible","indexOf","useDocumentFragment","callback","document","createDocumentFragment","appendChild","deref","token","scope","encode","match","segments","split","len","length","i","isString","encodeURIComponent","appendChildViews","placeholders","viewPlaceholderAttributeName","placeholderId","getAttribute","parentNode","replaceChild","VERSION","viewNameAttributeName","viewCidAttributeName","isIE11","navigator","userAgent","exec","toLowerCase","View","extend","template","VM","noop","output","isFunction","context","parent","removeAttribute","prototype","apply","arguments","toString","setElement","response","setAttribute","_ensureElement","NativeViewMixin","LayoutView","setView","oldView","_view","bind","getView","ModelView","initialize","attributes","CollectionView","modelView","reset","sort","change","add","index","addModel","removeModel","isUndefined","insertionPoint","previousModel","at","nextSibling","firstChild","insertBefore","viewCid","updateModelFilter","Util","tag","content","htmlAttributes","omit","tagName","space","keys","map","value","key","formattedValue","expandToken","Utils","escapeExpression","input","re","ret","mapper","param","params","helper","shift","push","helpers","registerHelper","SafeString","closest","attr"],"mappings":"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"}